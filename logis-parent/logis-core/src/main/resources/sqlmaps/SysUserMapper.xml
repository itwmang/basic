<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wmang.logis.core.dao.user.SysUserMapper">

	<!-- ********************** 以下部分为代码自动生成，不能修改！！！ ********************************** -->

	<resultMap id="baseResultMap" type="com.wmang.logis.mode.entity.user.SysUser">
		<id column="id" property="id" />		<!-- 主键 -->
		<result column="account" property="account" />		<!-- 账号 -->
		<result column="name" property="name" />		<!-- 名称 -->
		<result column="passwd" property="passwd" />		<!-- 密码 -->
		<result column="email" property="email" />		<!-- 邮箱 -->
		<result column="user_type" property="userType" />		<!-- 用户类型 -->
		<result column="user_status" property="userStatus" />		<!-- 用户状态 -->
		<result column="phone" property="phone" />		<!-- 电话号码 -->
		<result column="address" property="address" />		<!-- 家庭地址 -->
		<result column="version" property="version" />		<!-- 密码最后修改时间 -->
		<result column="pub_validly" property="pubValidly" />		<!-- 账户是否有效 -->
		<result column="pub_remark" property="pubRemark" />		<!-- 备注 -->
		<result column="pub_create_person" property="pubCreatePerson" />		<!-- 创建人 -->
		<result column="pub_create_date" property="pubCreateDate" />		<!-- 创建时间 -->
		<result column="pub_modi_person" property="pubModiPerson" />		<!-- 修改人 -->
		<result column="pub_modi_date" property="pubModiDate" />		<!-- 修改时间 -->
	</resultMap>

	<sql id="baseColumnList">
		id,account,name,passwd,email,
		user_type,user_status,phone,address,version,
		pub_validly,pub_remark,pub_create_person,pub_create_date,pub_modi_person,
		pub_modi_date
	</sql>

	<select id="findOne" resultMap="baseResultMap" parameterType="Integer">
		select
		<include refid="baseColumnList" />
		from sys_user
		where id = #{id}
	</select>

	<delete id="delete" parameterType="Integer">
		delete from
		sys_user
		where id = #{id}
	</delete>

	<insert id="save" useGeneratedKeys="true" keyProperty="id" parameterType="com.wmang.logis.mode.entity.user.SysUser">
		insert into sys_user
		(<include refid="baseColumnList" />
		)
		values
		(	#{id},#{account},#{name},#{passwd},#{email},
			#{userType},#{userStatus},#{phone},#{address},#{version},
			#{pubValidly},#{pubRemark},#{pubCreatePerson},#{pubCreateDate},#{pubModiPerson},
			#{pubModiDate}
		)
	</insert>

	<update id="updateSelected">
		update sys_user
		<set>
			<foreach collection="columns" item="column" separator=",">
				<choose>
					<when test="column=='account' || column=='account'">
						account=#{record.account}
					</when>
					<when test="column=='name' || column=='name'">
						name=#{record.name}
					</when>
					<when test="column=='passwd' || column=='passwd'">
						passwd=#{record.passwd}
					</when>
					<when test="column=='email' || column=='email'">
						email=#{record.email}
					</when>
					<when test="column=='user_type' || column=='userType'">
						user_type=#{record.userType}
					</when>
					<when test="column=='user_status' || column=='userStatus'">
						user_status=#{record.userStatus}
					</when>
					<when test="column=='phone' || column=='phone'">
						phone=#{record.phone}
					</when>
					<when test="column=='address' || column=='address'">
						address=#{record.address}
					</when>
					<when test="column=='version' || column=='version'">
						version=#{record.version}
					</when>
					<when test="column=='pub_validly' || column=='pubValidly'">
						pub_validly=#{record.pubValidly}
					</when>
					<when test="column=='pub_remark' || column=='pubRemark'">
						pub_remark=#{record.pubRemark}
					</when>
					<when test="column=='pub_create_person' || column=='pubCreatePerson'">
						pub_create_person=#{record.pubCreatePerson}
					</when>
					<when test="column=='pub_create_date' || column=='pubCreateDate'">
						pub_create_date=#{record.pubCreateDate}
					</when>
					<when test="column=='pub_modi_person' || column=='pubModiPerson'">
						pub_modi_person=#{record.pubModiPerson}
					</when>
					<when test="column=='pub_modi_date' || column=='pubModiDate'">
						pub_modi_date=#{record.pubModiDate}
					</when>
				</choose>
			</foreach>
		</set>
		where id = #{record.id}
	</update>

	<update id="update" parameterType="com.wmang.logis.mode.entity.user.SysUser">
		update sys_user
		set id=#{id},account=#{account},name=#{name},passwd=#{passwd},email=#{email},
			user_type=#{userType},user_status=#{userStatus},phone=#{phone},address=#{address},version=#{version},
			pub_validly=#{pubValidly},pub_remark=#{pubRemark},pub_create_person=#{pubCreatePerson},pub_create_date=#{pubCreateDate},pub_modi_person=#{pubModiPerson},
			pub_modi_date=#{pubModiDate}
		where id = #{id}
	</update>
	
	<sql id="exampleClause">
		<trim prefixOverrides="and|or">
			<foreach collection="example.oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and|or">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									${criterion.condition}
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</trim>
	</sql>
	
	<!-- 根据条件查询 -->
	<select id="listByCondition" resultMap="baseResultMap">
		select 
		<include refid="baseColumnList" />
		from sys_user
		<if test="_parameter != null" >
			<where>
				<include refid="exampleClause" />
			</where>
			<if test="example.orderByClause != null and example.orderByClause != ''">
				order by ${example.orderByClause}
			</if>
		</if>
	</select>
	
	<!-- 根据条件查询 -->
	<select id="countByCondition" resultType="java.lang.Integer">
		select count(1)
		from sys_user
		<if test="_parameter != null" >
			<where>
				<include refid="exampleClause" />
			</where>
		</if>
	</select>
	
	<!-- 根据主键查询自定义列 -->
	<select id="selectColumnsByKey" resultMap="baseResultMap" parameterType="Integer">
		select <foreach collection="columns" item="column" separator=",">#{column}</foreach>
		from sys_user
		where id = #{id}
	</select>

	<!-- ********************** 以上部分为代码自动生成，不能修改！！！ ********************************** -->

</mapper>