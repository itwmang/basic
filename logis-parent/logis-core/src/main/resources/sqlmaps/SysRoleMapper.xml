<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wmang.logis.core.dao.role.SysRoleMapper">

	<!-- ********************** 以下部分为代码自动生成，不能修改！！！ ********************************** -->

	<resultMap id="baseResultMap" type="com.wmang.logis.mode.entity.role.SysRole">
		<id column="id" property="id" />		<!-- 主键 -->
		<result column="role_name" property="roleName" />		<!-- 角色名称 -->
		<result column="pid" property="pid" />		<!-- 父ID -->
		<result column="desc_" property="desc" />		<!-- 角色描述 -->
		<result column="validly" property="validly" />		<!-- 账户是否有效 -->
		<result column="creater" property="creater" />		<!-- 创建人 -->
		<result column="create_time" property="createTime" />		<!-- 创建时间 -->
		<result column="updater" property="updater" />		<!-- 修改人 -->
		<result column="update_time" property="updateTime" />		<!-- 修改时间 -->
	</resultMap>

	<sql id="baseColumnList">
		id,role_name,pid,desc_,validly,
		creater,create_time,updater,update_time
	</sql>

	<select id="findOne" resultMap="baseResultMap" parameterType="Integer">
		select
		<include refid="baseColumnList" />
		from sys_role
		where id = #{id}
	</select>

	<delete id="delete" parameterType="Integer">
		delete from
		sys_role
		where id = #{id}
	</delete>

	<insert id="save" useGeneratedKeys="true" keyProperty="id" parameterType="com.wmang.logis.mode.entity.role.SysRole">
		insert into sys_role
		(<include refid="baseColumnList" />
		)
		values
		(	#{id},#{roleName},#{pid},#{desc},#{validly},
			#{creater},#{createTime},#{updater},#{updateTime}
		)
	</insert>

	<update id="updateSelected">
		update sys_role
		<set>
			<foreach collection="columns" item="column" separator=",">
				<choose>
					<when test="column=='role_name' || column=='roleName'">
						role_name=#{record.roleName}
					</when>
					<when test="column=='pid' || column=='pid'">
						pid=#{record.pid}
					</when>
					<when test="column=='desc_' || column=='desc'">
						desc_=#{record.desc}
					</when>
					<when test="column=='validly' || column=='validly'">
						validly=#{record.validly}
					</when>
					<when test="column=='creater' || column=='creater'">
						creater=#{record.creater}
					</when>
					<when test="column=='create_time' || column=='createTime'">
						create_time=#{record.createTime}
					</when>
					<when test="column=='updater' || column=='updater'">
						updater=#{record.updater}
					</when>
					<when test="column=='update_time' || column=='updateTime'">
						update_time=#{record.updateTime}
					</when>
				</choose>
			</foreach>
		</set>
		where id = #{record.id}
	</update>

	<update id="update" parameterType="com.wmang.logis.mode.entity.role.SysRole">
		update sys_role
		set id=#{id},role_name=#{roleName},pid=#{pid},desc_=#{desc},validly=#{validly},
			creater=#{creater},create_time=#{createTime},updater=#{updater},update_time=#{updateTime}
		where id = #{id}
	</update>
	
	<sql id="exampleClause">
		<trim prefixOverrides="and|or">
			<foreach collection="example.oredCriteria" item="criteria" separator="or">
				<if test="criteria.valid">
					<trim prefix="(" suffix=")" prefixOverrides="and|or">
						<foreach collection="criteria.criteria" item="criterion">
							<choose>
								<when test="criterion.noValue">
									${criterion.condition}
								</when>
							</choose>
						</foreach>
					</trim>
				</if>
			</foreach>
		</trim>
	</sql>
	
	<!-- 根据条件查询 -->
	<select id="listByCondition" resultMap="baseResultMap">
		select 
		<include refid="baseColumnList" />
		from sys_role
		<if test="_parameter != null" >
			<where>
				<include refid="exampleClause" />
			</where>
			<if test="example.orderByClause != null and example.orderByClause != ''">
				order by ${example.orderByClause}
			</if>
		</if>
	</select>
	
	<!-- 根据条件查询 -->
	<select id="countByCondition" resultType="java.lang.Integer">
		select count(1)
		from sys_role
		<if test="_parameter != null" >
			<where>
				<include refid="exampleClause" />
			</where>
		</if>
	</select>
	
	<!-- 根据主键查询自定义列 -->
	<select id="selectColumnsByKey" resultMap="baseResultMap" parameterType="Integer">
		select <foreach collection="columns" item="column" separator=",">#{column}</foreach>
		from sys_role
		where id = #{id}
	</select>

	<!-- ********************** 以上部分为代码自动生成，不能修改！！！ ********************************** -->

</mapper>